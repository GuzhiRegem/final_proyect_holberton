{"ast":null,"code":"import Base from '../Base/Base';\nimport Button from '../Button/Button';\nexport default class StylesControl extends Base {\n  constructor(options) {\n    var _a;\n\n    super();\n    this.styles = (_a = options === null || options === void 0 ? void 0 : options.styles) !== null && _a !== void 0 ? _a : this.defaultOptions;\n    this.onChange = options === null || options === void 0 ? void 0 : options.onChange;\n    this.buttons = [];\n  }\n\n  insert() {\n    this.addClassName('mapbox-control-styles');\n    this.styles.forEach(style => {\n      const button = new Button();\n      button.setText(style.label);\n      button.onClick(() => {\n        if (button.node.classList.contains('-active')) return;\n        this.map.setStyle(style.styleUrl);\n        if (this.onChange) this.onChange(style);\n      });\n      this.buttons.push(button);\n      this.addButton(button);\n    });\n    this.map.on('styledata', () => {\n      this.buttons.forEach(button => {\n        button.removeClassName('-active');\n      });\n      const styleNames = this.styles.map(style => style.styleName);\n      const currentStyleIndex = styleNames.indexOf(this.map.getStyle().name);\n\n      if (currentStyleIndex !== -1) {\n        const currentButton = this.buttons[currentStyleIndex];\n        currentButton.addClassName('-active');\n      }\n    });\n  }\n\n  get defaultOptions() {\n    return [{\n      label: 'Streets',\n      styleName: 'Mapbox Streets',\n      styleUrl: 'mapbox://styles/mapbox/streets-v11'\n    }, {\n      label: 'Satellite',\n      styleName: 'Mapbox Satellite Streets',\n      styleUrl: 'mapbox://sprites/mapbox/satellite-streets-v11'\n    }];\n  }\n\n  onAddControl() {\n    this.insert();\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}