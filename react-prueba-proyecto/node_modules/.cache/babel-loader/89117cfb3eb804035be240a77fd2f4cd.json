{"ast":null,"code":"import iconPointer from '../icons/pointer';\nimport Base from '../Base/Base';\nimport Button from '../Button/Button';\nexport default class CompassControl extends Base {\n  constructor(options) {\n    var _a;\n\n    super();\n    this.button = new Button();\n    this.instant = (_a = options === null || options === void 0 ? void 0 : options.instant) !== null && _a !== void 0 ? _a : true;\n    this.syncRotate = this.syncRotate.bind(this);\n  }\n\n  insert() {\n    this.addClassName('mapbox-compass');\n    if (!this.instant) this.node.hidden = true;\n    this.button.setIcon(iconPointer());\n    this.button.onClick(() => {\n      this.map.easeTo({\n        bearing: 0,\n        pitch: 0\n      });\n    });\n    this.addButton(this.button);\n  }\n\n  onAddControl() {\n    this.insert();\n    this.syncRotate();\n    this.map.on('rotate', this.syncRotate);\n  }\n\n  syncRotate() {\n    const angle = this.map.getBearing() * -1;\n\n    if (!this.instant) {\n      this.node.hidden = angle === 0;\n    }\n\n    this.button.icon.style.transform = `rotate(${angle}deg)`;\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}