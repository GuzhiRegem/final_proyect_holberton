{"ast":null,"code":"var _jsxFileName = \"/home/pegatzu/final_proyect_holberton/src/components/MapboxGLMap.jsx\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { RulerControl, StylesControl, ZoomControl, CompassControl } from 'mapbox-gl-controls';\nimport \"../style/map.css\";\nimport mapboxgl from 'mapbox-gl';\nconst styles = {\n  width: \"100vw\",\n  height: \"calc(100vh - 80px)\",\n  position: \"absolute\"\n};\nexport function MapboxGLMap() {\n  const mapContainer = useRef(null);\n  const [map, setMap] = useState(null);\n  const [lng, setLng] = useState(-56.073358);\n  const [lat, setLat] = useState(-34.791454);\n  const [zoom, setZoom] = useState(11);\n  useEffect(() => {\n    mapboxgl.accessToken = \"pk.eyJ1IjoiYm9saW9saWFndXN0aW4iLCJhIjoiY2t6eDVzcWY5NDJoNTJucW9xaHY2bXA2dCJ9.ZR3iXpsXSNMjzh9Nj-0EDQ\";\n\n    const initializeMap = _ref => {\n      let {\n        setMap,\n        mapContainer\n      } = _ref;\n      const map = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: \"mapbox://styles/mapbox/streets-v11\",\n        // stylesheet location\n        center: [lng, lat],\n        zoom: zoom,\n        pitch: 45\n      });\n      map.on(\"load\", () => {\n        setMap(map);\n        map.resize();\n      });\n      map.on(\"move\", () => {\n        setLng(map.getCenter().lng.toFixed(4));\n        setLat(map.getCenter().lat.toFixed(4));\n        setZoom(map.getZoom().toFixed(2));\n      });\n      console.log(map.getStyle()); //Add ruler control\n\n      map.addControl(new RulerControl(), 'bottom-right');\n      map.on('ruler.on', () => console.log('%cruler.on', 'color: #3D5AFE'));\n      map.on('ruler.off', () => console.log('%cruler.off', 'color: #3D5AFE')); // with custom styles:\n\n      map.addControl(new StylesControl({\n        styles: [{\n          label: 'Streets',\n          styleName: 'Mapbox Streets',\n          styleUrl: 'mapbox://styles/mapbox/outdoors-v11'\n        }, {\n          label: 'Satellite',\n          styleName: 'Satellite',\n          styleUrl: 'mapbox://styles/mapbox/satellite-v9'\n        }],\n        onChange: style => console.log(style)\n      }), 'top-left'); // Add zoom control\n\n      map.addControl(new ZoomControl(), 'bottom-right'); // Add compass control\n\n      map.addControl(new CompassControl(), 'bottom-right');\n    };\n\n    if (!map) initializeMap({\n      setMap,\n      mapContainer,\n      lat,\n      lng,\n      zoom\n    });\n  }, [map, mapContainer, lat, lng, zoom]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: el => mapContainer.current = el,\n    style: styles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 18\n    }\n  });\n}\n;","map":{"version":3,"sources":["/home/pegatzu/final_proyect_holberton/src/components/MapboxGLMap.jsx"],"names":["React","useEffect","useRef","useState","RulerControl","StylesControl","ZoomControl","CompassControl","mapboxgl","styles","width","height","position","MapboxGLMap","mapContainer","map","setMap","lng","setLng","lat","setLat","zoom","setZoom","accessToken","initializeMap","Map","container","current","style","center","pitch","on","resize","getCenter","toFixed","getZoom","console","log","getStyle","addControl","label","styleName","styleUrl","onChange","el"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { RulerControl, StylesControl, ZoomControl, CompassControl } from 'mapbox-gl-controls';\nimport \"../style/map.css\"\nimport mapboxgl from 'mapbox-gl'\n\nconst styles = {\n    width: \"100vw\",\n    height: \"calc(100vh - 80px)\",\n    position: \"absolute\"\n  };\n\nexport  function MapboxGLMap() {\n    \n    const mapContainer = useRef(null);\n    const [map, setMap] = useState(null);\n    const [lng, setLng] = useState(-56.073358);\n    const [lat, setLat] = useState(-34.791454);\n    const [zoom, setZoom] = useState(11);\n\n\n    useEffect(() => {\n        mapboxgl.accessToken = \"pk.eyJ1IjoiYm9saW9saWFndXN0aW4iLCJhIjoiY2t6eDVzcWY5NDJoNTJucW9xaHY2bXA2dCJ9.ZR3iXpsXSNMjzh9Nj-0EDQ\"\n        const initializeMap = ({ setMap, mapContainer }) => {\n            const map = new mapboxgl.Map({\n              container: mapContainer.current,\n              style: \"mapbox://styles/mapbox/streets-v11\", // stylesheet location\n              center: [lng, lat],\n              zoom: zoom,\n              pitch: 45\n            });\n            \n            map.on(\"load\", () => {\n                setMap(map);\n                map.resize();\n              });\n\n                map.on(\"move\", () => {\n                    setLng(map.getCenter().lng.toFixed(4));\n                    setLat(map.getCenter().lat.toFixed(4));\n                    setZoom(map.getZoom().toFixed(2));\n                  }\n                );\n                  console.log(map.getStyle());\n                //Add ruler control\n                map.addControl(new RulerControl(), 'bottom-right');\n                map.on('ruler.on', () => console.log('%cruler.on', 'color: #3D5AFE'));\n                map.on('ruler.off', () => console.log('%cruler.off', 'color: #3D5AFE'));\n\n                          // with custom styles:\n                map.addControl(new StylesControl({\n                    styles: [\n                    {\n                        label: 'Streets',\n                        styleName: 'Mapbox Streets',\n                        styleUrl: 'mapbox://styles/mapbox/outdoors-v11',\n                    }, {\n                        label: 'Satellite',\n                        styleName: 'Satellite',\n                        styleUrl: 'mapbox://styles/mapbox/satellite-v9',\n                    },\n                    ],\n                    onChange: (style) => console.log(style),\n                }), 'top-left');\n            \n                // Add zoom control\n                map.addControl(new ZoomControl(), 'bottom-right');\n            \n                // Add compass control\n                map.addControl(new CompassControl(), 'bottom-right');\n                    };\n                \n            if (!map) initializeMap({ setMap, mapContainer, lat, lng, zoom });\n          }, [map, mapContainer, lat, lng, zoom]);\n    \n          return <div ref={el => (mapContainer.current = el)} style={styles} />;\n        };"]},"metadata":{},"sourceType":"module"}